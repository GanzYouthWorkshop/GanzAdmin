@using GanzAdmin.Database;
@using GanzAdmin.Database.Models;
@using System.Text;
@using System.Globalization;

@if(IsFullSize)
{
	<div class="uk-background-muted">
		<div class="uk-container">
			<div class="uk-margin">
				<form class="uk-search uk-search-default uk-width-1-1 awesomplete" @onsubmit="this.OnSubmit">
					<a href="" class="uk-search-icon-flip uk-search-icon uk-icon" data-uk-search-icon="">
						<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="search-icon">
							<circle fill="none" stroke="#000" stroke-width="1.1" cx="9" cy="9" r="7"></circle>
							<path fill="none" stroke="#000" stroke-width="1.1" d="M14,14 L18,18 L14,14 Z"></path>
						</svg>
					</a>
					<input id="search" class="uk-search-input uk-search-default uk-width-1-1 uk-form-large" type="search" placeholder="Keresés" autocomplete="off" data-minchars="1" data-maxitems="30" aria-owns="awesomplete_list_1" role="combobox" @bind="this.SearchExpression">
					<ul role="listbox" id="awesomplete_list_1" hidden=""></ul><span class="visually-hidden" role="status" aria-live="assertive" aria-atomic="true">Type 1 or more characters for results.</span>
				</form>
			</div>
		</div>
	</div>
}
else
{
	<div class="uk-width-1-3@m">
		<form class="uk-search uk-search-default uk-width-1-1 awesomplete">
			<a href="" class="uk-search-icon-flip uk-search-icon uk-icon" data-uk-search-icon=""><svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="search-icon"><circle fill="none" stroke="#000" stroke-width="1.1" cx="9" cy="9" r="7"></circle><path fill="none" stroke="#000" stroke-width="1.1" d="M14,14 L18,18 L14,14 Z"></path></svg></a>
			<input id="search" class="uk-search-input uk-search-default uk-width-1-1 uk-form-large" type="search" placeholder="Keresés" autocomplete="off" data-minchars="1" data-maxitems="30" aria-owns="awesomplete_list_1" role="combobox" @bind="this.SearchExpression">
			<ul role="listbox" id="awesomplete_list_1" hidden=""></ul><span class="visually-hidden" role="status" aria-live="assertive" aria-atomic="true">Type 1 or more characters for results.</span>
		</form>
	</div>
}

@code
{
	[Inject]
	protected NavigationManager NavMan { get; set; }

	[Parameter]
	public string SubmitUrl { get; set; }

	[Parameter]
	public string SearchExpression { get; set; }

	[Parameter]
	public bool IsFullSize { get; set; }

	private void OnSubmit(EventArgs e)
	{
        this.NavMan.NavigateTo(this.SubmitUrl.Replace("####", this.SearchExpression));
    }
}
