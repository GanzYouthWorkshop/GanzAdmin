@using GanzAdmin.Authentication;

<nav>
    <span id='selected-items' title='Eszközök'></span>

    <span id='menu' title='Menü'></span>
    <ul>
        <li><NavLink href="/members">Tagok</NavLink></li>

        <li><a href='getparts'>Alkatrészek</a></li>
        <li><a href='getcategories'>Kategóriák</a></li>
        <li><a href='getlocations'>Helyek</a></li>
        <ul id='login-menu'>
            <li><a href='showlogin'>Bejelentkezés</a></li>
        </ul>
        <li><a href='getusers'>Admin panel (dev)</a></li>
        <li><NavLink href="/help">Súgó</NavLink></li>
        <li><a href="" @onclick="@OnLogOut" @onclick:preventDefault>Kilépés</a></li>
</ul>
</nav>

@code
{
    [Inject]
    private GanzAuthProvider AuthProvider { get; set; }

    [Inject]
    protected NavigationManager NavMan { get; set; }

    [Inject]
    protected IJSRuntime JS { get; set; }

    private void OnLogOut()
    {
        this.AuthProvider.SignOut();
        this.NavMan.NavigateTo("/");
        this.JS.InvokeVoidAsync("alertify.success", "Viszontlátásra!");
    }
}